<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Password Reset Request</title>
    <script src="https://smtpjs.com/v3/smtp.js"></script>
</head>
<body>
    <form id="reset-form">
        <input type="email" id="email" placeholder="Enter your email">
        <button type="submit">Request Password Reset</button>
    </form>

    <script>
        document.getElementById('reset-form').addEventListener('submit', function (e) {
            e.preventDefault();
            const email = document.getElementById('email').value;
            const sixDigitCode = generateSixDigitCode(); // Implement your own code generation logic

            // Send an email with the code
            sendEmail(email, sixDigitCode);

            // Store the code in local storage
            localStorage.setItem('resetCode', sixDigitCode);

            // Redirect to the validation page
            window.location.href = 'validate-reset-code.html';
        });

        function generateSixDigitCode() {
            // Implement your own logic to generate a random six-digit code
            return Math.floor(100000 + Math.random() * 900000);
        }

        function sendEmail(email, code) {
            Email.send({
                SecureToken: '3A69B4F671972E0D86D09B4D30CD0D1E91DCB618C2ECF0C7E326EEB07E32DAAA59465542B7A4789FD38DFF21FA6A2FF6', // Replace with your SMTP token
                To: email,
                From: 'mngames43011@gmail.com', // Replace with your sender email
                Subject: 'Password Reset Code',
                Body: `Your password reset code is: ${code}`,
            }).then(
                message => alert('Email sent successfully! Check your inbox.')
            );
        }
    </script>
</body>
</html>
