<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Password Reset - Send Code</title>
</head>
<body>
  <h2>Reset Password - Send Code</h2>
  <label for="email">Enter your email:</label>
  <input type="email" id="email" required>
  <button onclick="sendCodeByEmail()">Send Code</button>

  <script src="https://smtpjs.com/v3/smtp.js"></script>
  <script>
    async function sendCodeByEmail() {
      const email = document.getElementById('email').value;
      const code = Math.floor(100000 + Math.random() * 900000);
      localStorage.setItem('resetCode', code);

      const message = `Your verification code is: ${code}`;

      // Configure SMTP parameters
      const smtpParams = {
        host: 'smtp.elasticemail.com',
        username: 'foundationincnoreply@gmail.com',
        password: '7B710581D98020A589155FF591D8A81EEDD3',
        to: email,
        from: 'foundationincnoreply@gmail.com',
        subject: 'Password Reset Verification Code',
        body: message
      };

      // Send email
      Email.send({
        Host: smtpParams.host,
        Username: smtpParams.username,
        Password: smtpParams.password,
        To: smtpParams.to,
        From: smtpParams.from,
        Subject: smtpParams.subject,
        Body: smtpParams.body
      }).then(
        message => console.log('Email sent successfully:', message),
        error => console.error('Error sending email:', error)
      );
    }
  </script>
</body>
</html>
