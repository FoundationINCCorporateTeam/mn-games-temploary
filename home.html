<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!-- Appzi: Capture Insightful Feedback -->
<script async src="https://w.appzi.io/w.js?token=vi6HE"></script>
<script src="redirect.js"></script>
<!-- End Appzi -->
<script src="https://sak.userreport.com/mngames/launcher.js" async id="userreport-launcher-script"></script>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@1.28.1/dist/umd/supabase.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Home | Schoology</title>
<link rel="shortcut icon" type="image/png" href="/schoology-logo.png"/>
<style>
    /* Global Styles */
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #000;
        color: #fff;
        text-align: center;
    }

    /* New styles for the announcement bar */
    .announcement-bar {
        background-color: white;
        color: purple;
        padding: 10px 0;
    }

    /* Navbar Styles */
    nav {
        background-color: black;
        overflow: hidden;
        width: 100%;
        padding: 8px 0;
        border-radius: 20px;
    }

    nav a {
        display: inline-block;
        color: white;
        text-align: center;
        padding: 10px 15px;
        text-decoration: none;
        font-size: 16px;
        position: relative;
        transition: transform 0.3s ease;
    }

    nav a:hover {
        background-color: #555;
    }

    /* Container Styles */
    .container {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding-bottom: 50px;
        margin-top: 50px;
    }

    /* Button Styles */
    .futuristic-button {
        background-color: #0B40FD;
        border: 2px solid white;
        color: white;
        padding: 15px 30px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin: 4px 2px;
        transition-duration: 0.4s;
        cursor: pointer;
        border-radius: 12px;
        font-family: Arial, sans-serif;
        outline: none;
    }

    .futuristic-button:hover {
        background-color: #22357C;
        border: 2px solid #4CAF50;
    }

    .premium-button,
    .ultimate-button {
        width: auto;
    }

    .card-container {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        margin-top: 20px;
    }

    .card {
        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
        width: 300px;
        text-align: center;
        background-color: #f0f0f0;
        border-radius: 10px;
        padding: 20px;
        margin: 10px;
    }

    .card img {
        width: 100%;
        border-radius: 50%;
    }

    .card h1 {
        margin-top: 10px;
        font-size: 24px;
        color: #333;
    }

    .card p {
        font-size: 16px;
        color: #666;
        margin: 10px 0;
    }

    button {
        border: none;
        outline: 0;
        display: inline-block;
        padding: 8px;
        color: white;
        background-color: #000;
        text-align: center;
        cursor: pointer;
        width: 100%;
        font-size: 18px;
    }

    a {
        text-decoration: none;
        font-size: 22px;
        color: black;
    }

    button:hover,
    a:hover {
        opacity: 0.7;
    }

    /* Popup styles */
    .popup {
        display: none;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: #000000;
        padding: 20px;
        border: 2px solid #333;
        box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.5);
        z-index: 9999;
    }

    .popup button {
        background-color: #333;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        margin-top: 20px;
    }

    .popup button:hover {
        background-color: #555;
    }

    .overlay {
        display: none;
        position: fixed;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 9998;
    }

    .disclaimer-content {
        color: #fff;
    }

    .disclaimer-content p {
        margin: 10px 0;
    }

    .disclaimer-content label {
        display: block;
    }

    .disclaimer-content input[type="checkbox"] {
        display: none;
    }
</style>
</head>
<body>

<div class="announcement-bar">
    <button class="futuristic-button premium-button" onclick=window.location.href="https://mngames.cronitorstatus.com">View Status Page</button>
    <p> Click here to view the 2024-2025 school year trailer: <a href="">MN Games Feature Trailer</a></p>
    <p>MN Games Shuts Down on Wednesday, May 29 at 2:10pm. Please finish all of your gaming needs by Wednesday, May 29 at 2:10pm. Thank you so much for all of your loyalty this year and have a great summer! -Nolan I. MN Games Founder and Owner</p>
</div>

<nav>
    <a href='/'>Home</a>
    <a href="/mngamesplus/mngamesplus">MN Games+</a>
    <a href='/premium'>Premium</a>
    <a href='/ultimate'>Ultimate</a>
    <a href='/elite'>Elite</a>
    <a href='/tournaments'>Tournaments</a>
    <a href='/enterpriseprox'>MN Secure Browser</a>
    <a href="https://mngames.notion.site/MN-Games-Docs-9e9253c3e1044de2ae8c10b9726cc11a">Knowledge Base</a>
    <a href="https://forms.office.com/Pages/ResponsePage.aspx?id=DQSIkWdsW0yxEjajBLZtrQAAAAAAAAAAAAO__cyL5V9UN1dSTUxMWjdSNUVNSDVVOFhJOUM4TDc0NS4u">Apply For A Job!</a>
    <a href="sign-up">Sign-up</a>
    <a href="sign-in">Sign-in</a>
</nav>

<div class="popup" id="popup">
    <div class="disclaimer-content">
        <h2>Daily Rewards</h2>
        <p>As your daily reward, 1 MN Credit has been added to your account. Come back again tomorrow to collect more!</p>
        <h2>Disclaimer</h2>
        <p>Dear user,</p>
        <h4>BY PROCEEDING YOU AGREE TO THE FOLLOWING DISCLAIMER</h4>
        <p>Welcome to our game website. Before you proceed, we kindly ask you to carefully read and acknowledge the following:</p>
        <p>1. The games and content available on this website are intended for entertainment purposes only. They are not meant to be used during school hours or in any environment where your attention should be focused elsewhere.</p>
        <p>2. By using this website, you agree that you are solely responsible for your actions and decisions. We are not liable for any consequences that may arise from your use of this website, including but not limited to academic penalties, disciplinary actions, or any damages incurred.</p>
        <p>3. We reserve the right to track and monitor website usage for security and analytical purposes. Any misuse of this website may result in access restrictions or other measures as deemed necessary.</p>
        <p>4. We reserve the right to restrict access to our website. Our website is aimed towards kids and families. If you are a teacher or educator, you are prohibited from accessing our website. We are restricting access because we need to save our server resources.</p>
        <button id="rewards" onclick="collectRewards()">Collect Rewards and Agree</button>
    </div>
</div>

<div class="overlay" id="overlay"></div>

<div class="container">
    <h1>Welcome to MN Games</h1>
    <p>Your ultimate destination for fun and games!</p>
</div>

<script>
    // Initialize Supabase
    const supabaseUrl = 'https://tdsxayxnjomnoiestnmj.supabase.co';
    const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRkc3hheXhuam9tbm9pZXN0bm1qIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTE3NDg4NzUsImV4cCI6MjAyNzMyNDg3NX0._1GPeVJvMjrSyNX3x2mDSGACVIdFkmlD96rgDfOzSkY';
    const supabase = supabase.createClient(supabaseUrl, supabaseKey);

    async function collectRewards() {
        try {
            // Get the email from local storage
            const userEmail = localStorage.getItem("email");

            // Check if email is present
            if (!userEmail) {
                throw new Error("User email not found in local storage.");
            }

            // Fetch user data
            const { data, error } = await supabase
                .from('users')
                .select('mn_credits')
                .eq('email', userEmail)
                .single();

            if (error) throw error;

            const currentTime = new Date().getTime();
            const lastCollected = localStorage.getItem("last_collected") ? new Date(localStorage.getItem("last_collected")).getTime() : 0;

            // Check if 24 hours have passed
            if (currentTime - lastCollected >= 24 * 60 * 60 * 1000) {
                // Update MN credits and last collected time
                const { error: updateError } = await supabase
                    .from('users')
                    .update({
                        mn_credits: data.mn_credits + 1
                    })
                    .eq('email', userEmail);

                if (updateError) throw updateError;

                localStorage.setItem("last_collected", new Date().toISOString());

                alert('You have collected your daily reward of 1 MN Credit!');
            } else {
                alert('You can only collect your reward once every 24 hours. Please come back later.');
            }
        } catch (error) {
            console.error('Error collecting rewards:', error);
        } finally {
            closePopup();
        }
    }

    // Show popup on page load
    function showPopup() {
        document.getElementById("overlay").style.display = "block";
        document.getElementById("popup").style.display = "block";
    }

    function closePopup() {
        document.getElementById("overlay").style.display = "none";
        document.getElementById("popup").style.display = "none";
    }

    window.onload = function() {
        showPopup();
    };
</script>

<!-- Commented-out Tiledesk script
<script type="application/javascript">
window.tiledeskSettings= 
{
    projectid: "6615445c38b67d001348b5d1"
};
(function(d, s, id) { 
    var w=window; var d=document; var i=function(){i.c(arguments);};
    i.q=[]; i.c=function(args){i.q.push(args);}; w.Tiledesk=i;                    
    var js, fjs=d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js=d.createElement(s); 
    js.id=id; js.async=true; js.src="https://widget.tiledesk.com/v6/launch.js";
    fjs.parentNode.insertBefore(js, fjs);
}(document,'script','tiledesk-jssdk'));
</script>
-->

</body>
</html>
